---
title: "1464 - æ•°ç»„ä¸­ä¸¤å…ƒç´ çš„æœ€å¤§ä¹˜ç§¯"
date: 2022-08-26T22:55:34+08:00
description: "8æœˆ26æ—¥ å‘¨äº” é›¨ğŸŒ§ æ¯æ—¥ä¸€é¢˜"
featured_image: "https://pic.danic.tech/blog/bg/bg-32.jpg"
tags: ["æœç´¢"]
---

# é¢˜

>   #### [1464. æ•°ç»„ä¸­ä¸¤å…ƒç´ çš„æœ€å¤§ä¹˜ç§¯](https://leetcode.cn/problems/maximum-product-of-two-elements-in-an-array/)
>
>   ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¯·ä½ é€‰æ‹©æ•°ç»„çš„ä¸¤ä¸ªä¸åŒä¸‹æ ‡ `i` å’Œ `j`*ï¼Œ*ä½¿ `(nums[i]-1)*(nums[j]-1)` å–å¾—æœ€å¤§å€¼ã€‚
>
>   è¯·ä½ è®¡ç®—å¹¶è¿”å›è¯¥å¼çš„æœ€å¤§å€¼ã€‚
>
>    
>
>   **ç¤ºä¾‹ 1ï¼š**
>
>   ```
>   è¾“å…¥ï¼šnums = [3,4,5,2]
>   è¾“å‡ºï¼š12 
>   è§£é‡Šï¼šå¦‚æœé€‰æ‹©ä¸‹æ ‡ i=1 å’Œ j=2ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œåˆ™å¯ä»¥è·å¾—æœ€å¤§å€¼ï¼Œ(nums[1]-1)*(nums[2]-1) = (4-1)*(5-1) = 3*4 = 12 ã€‚ 
>   ```
>
>   **ç¤ºä¾‹ 2ï¼š**
>
>   ```
>   è¾“å…¥ï¼šnums = [1,5,4,5]
>   è¾“å‡ºï¼š16
>   è§£é‡Šï¼šé€‰æ‹©ä¸‹æ ‡ i=1 å’Œ j=3ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œåˆ™å¯ä»¥è·å¾—æœ€å¤§å€¼ (5-1)*(5-1) = 16 ã€‚
>   ```
>
>   **ç¤ºä¾‹ 3ï¼š**
>
>   ```
>   è¾“å…¥ï¼šnums = [3,7]
>   è¾“å‡ºï¼š12
>   ```
>
>    
>
>   **æç¤ºï¼š**
>
>   -   `2 <= nums.length <= 500`
>   -   `1 <= nums[i] <= 10^3`



# æ

é¢˜æ„æ˜¯æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„ä¸¤ä¸ªæ•°`i`, `j`ï¼Œç„¶åè¿”å›`(i-1)*(j-1)`ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸¤ä¸ªå˜é‡éå†ä¿å­˜æœ€å¤§çš„ä¸¤ä¸ªæ•°ï¼Œå¹¶è¿”å›ç»“æœã€‚åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼Œæ‰¾å‡ºæœ€å¤§çš„ä¸¤ä¸ªå˜é‡ã€‚ä¸¤è€…çš„å¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n)



# è§£

### ä¸€æ¬¡éå†

```go
func maxProduct(nums []int) int {
    var a, b int
    for _, v := range nums {
        if v >= a {
            a, b = v, a
        } else if v > b {
            b = v
        }
    }
    return (a-1) * (b-1)
}
```



### å¿«é€Ÿé€‰æ‹©

```go
func quickSelect(nums []int, left, right int, k int) {
    if left >= right {
        return
    }

    l, r := left, right
    // äº¤æ¢çš„é€»è¾‘å’Œå¿«é€Ÿé€‰æ‹©ä¸€æ ·
    p := l
    for l < r {
        for l < r && nums[r] < nums[p] {
            r--
        }
        for l < r && nums[l] >= nums[p] {
            l++
        }
        if l >= r {
            break
        }
        nums[l], nums[r] = nums[r], nums[l]
    }
    nums[l], nums[p] = nums[p], nums[l]

    if l == k {
        // åˆ†å¥½äº†ï¼Œåœæ­¢
        return 
    } else if l > k {
        // å·¦ä¾§lä¸ªæ•°æ®ä¸ªæ•°å¤§äºkï¼Œéœ€è¦ç¼©å‡æ•°é‡
        quickSelect(nums, left, l - 1, k)
    } else {
        // å·¦ä¾§lä¸ªæ•°æ®ä¸ªæ•°å°äºKï¼Œéœ€è¦å¢åŠ æ•°é‡
        quickSelect(nums, l + 1, right, k)
    }
}

func maxProduct(nums []int) int {
    quickSelect(nums, 0, len(nums)-1, 2)
    return (nums[0] - 1) * (nums[1] - 1)
}
```

